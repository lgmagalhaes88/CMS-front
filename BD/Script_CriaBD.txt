 TI_BD_LOGICO 

CREATE TABLE USUARIO (
    COD_USUARIO INTEGER PRIMARY KEY,
    NOME_USUARIO NVARCHAR,
    DSC_SENHA ÑVARCHAR,
    FK_PERFIL_USUARIO_COD_PERFIL_USUARIO INTEGER,
    FK_PESSOA_COD_PESSOA INTEGER,
    FK_PESSOA_COD_CPF INTEGER
);

CREATE TABLE PERFIL_USUARIO (
    COD_PERFIL_USUARIO INTEGER PRIMARY KEY,
    DSC_PERFIL_USUARIO NVARCHAR
);

CREATE TABLE DISCIPLINA (
    COD_DISCIPLINA INTEGER PRIMARY KEY,
    NOME_DISCIPLINA NVARCHAR,
    QTD_CARGA_HORARIA INTEGER,
    NUM_PERIODO INTEGER,
    FK_PROFESSOR_COD_PROFESSOR INTEGER,
    FK_PERIODO_COD_PERIODO INTEGER
);

CREATE TABLE HORARIO (
    COD_HORARIO INTEGER PRIMARY KEY,
    NUM_HORARIO NVARCHAR,
    FK_DISCIPLINA_COD_DISCIPLINA INTEGER,
    FK_DIA_SEMANA_COD_DIA_SEMANA INTEGER
);

CREATE TABLE PROFESSOR (
    COD_PROFESSOR INTEGER PRIMARY KEY,
    FK_PESSOA_COD_PESSOA INTEGER,
    FK_PESSOA_COD_CPF INTEGER
);

CREATE TABLE PESSOA (
    COD_PESSOA INTEGER,
    COD_CPF INTEGER,
    NOME_PESSOA NVARCHAR,
    DSC_EMAIL NVARCHAR,
    PRIMARY KEY (COD_PESSOA, COD_CPF)
);

CREATE TABLE ALUNO (
    COD_ALUNO INTEGER PRIMARY KEY,
    FK_PESSOA_COD_PESSOA INTEGER,
    FK_PESSOA_COD_CPF INTEGER
);

CREATE TABLE DIA_SEMANA (
    COD_DIA_SEMANA INTEGER PRIMARY KEY,
    NOME_DIA_SEMANA INTEGER
);

CREATE TABLE PERIODO (
    COD_PERIODO INTEGER PRIMARY KEY,
    NUM_PERIODO INTEGER
);

CREATE TABLE AULA (
    FK_ALUNO_COD_ALUNO INTEGER,
    FK_DISCIPLINA_COD_DISCIPLINA INTEGER
);
 
ALTER TABLE USUARIO ADD CONSTRAINT FK_USUARIO_1
    FOREIGN KEY (FK_PERFIL_USUARIO_COD_PERFIL_USUARIO)
    REFERENCES PERFIL_USUARIO (COD_PERFIL_USUARIO)
    ON DELETE CASCADE ON UPDATE CASCADE;
 
ALTER TABLE USUARIO ADD CONSTRAINT FK_USUARIO_2
    FOREIGN KEY (FK_PESSOA_COD_PESSOA, FK_PESSOA_COD_CPF)
    REFERENCES PESSOA (COD_PESSOA, COD_CPF)
    ON DELETE CASCADE ON UPDATE CASCADE;
 
ALTER TABLE DISCIPLINA ADD CONSTRAINT FK_DISCIPLINA_1
    FOREIGN KEY (FK_PROFESSOR_COD_PROFESSOR)
    REFERENCES PROFESSOR (COD_PROFESSOR)
    ON DELETE CASCADE ON UPDATE CASCADE;
 
ALTER TABLE DISCIPLINA ADD CONSTRAINT FK_DISCIPLINA_2
    FOREIGN KEY (FK_PERIODO_COD_PERIODO)
    REFERENCES PERIODO (COD_PERIODO)
    ON DELETE CASCADE ON UPDATE CASCADE;
 
ALTER TABLE HORARIO ADD CONSTRAINT FK_HORARIO_1
    FOREIGN KEY (FK_DISCIPLINA_COD_DISCIPLINA)
    REFERENCES DISCIPLINA (COD_DISCIPLINA)
    ON DELETE CASCADE ON UPDATE CASCADE;
 
ALTER TABLE HORARIO ADD CONSTRAINT FK_HORARIO_2
    FOREIGN KEY (FK_DIA_SEMANA_COD_DIA_SEMANA)
    REFERENCES DIA_SEMANA (COD_DIA_SEMANA)
    ON DELETE CASCADE ON UPDATE CASCADE;
 
ALTER TABLE PROFESSOR ADD CONSTRAINT FK_PROFESSOR_1
    FOREIGN KEY (FK_PESSOA_COD_PESSOA, FK_PESSOA_COD_CPF)
    REFERENCES PESSOA (COD_PESSOA, COD_CPF)
    ON DELETE CASCADE ON UPDATE CASCADE;
 
ALTER TABLE ALUNO ADD CONSTRAINT FK_ALUNO_1
    FOREIGN KEY (FK_PESSOA_COD_PESSOA, FK_PESSOA_COD_CPF)
    REFERENCES PESSOA (COD_PESSOA, COD_CPF)
    ON DELETE CASCADE ON UPDATE CASCADE;
 
ALTER TABLE AULA ADD CONSTRAINT FK_AULA_0
    FOREIGN KEY (FK_ALUNO_COD_ALUNO)
    REFERENCES ALUNO (COD_ALUNO)
    ON DELETE RESTRICT ON UPDATE RESTRICT;
 
ALTER TABLE AULA ADD CONSTRAINT FK_AULA_1
    FOREIGN KEY (FK_DISCIPLINA_COD_DISCIPLINA)
    REFERENCES DISCIPLINA (COD_DISCIPLINA)
    ON DELETE SET NULL ON UPDATE CASCADE;